CREATE TABLE `ALINK` (
  `ALINK_RESOURCE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `ALINK_URL` varchar(256) NOT NULL,
  `ALINK_PAGE_RESOURCE_ID` bigint(20) NOT NULL,
  PRIMARY KEY (`ALINK_RESOURCE_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20229 DEFAULT CHARSET=latin1;

CREATE TABLE `CSSLINK` (
  `CSSLINK_RESOURCE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CSS_URL` varchar(256) NOT NULL,
  `CSS_BODY` mediumblob NOT NULL,
  PRIMARY KEY (`CSSLINK_RESOURCE_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20221 DEFAULT CHARSET=latin1;

CREATE TABLE `IMAGE` (
  `IMAGE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `IMAGE_BODY` mediumblob NOT NULL,
  PRIMARY KEY (`IMAGE_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=3296 DEFAULT CHARSET=latin1;

CREATE TABLE `IMAGEINDEX` (
  `IMAGEINDEX_IMAGE_HASH` varchar(20) NOT NULL,
  `IMAGEINDEX_IMAGE_ID` bigint(20) NOT NULL,
  PRIMARY KEY (`IMAGEINDEX_IMAGE_HASH`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `IMAGELINK` (
  `IMAGELINK_RESOURCE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `IMAGELINK_URL` varchar(256) NOT NULL,
  `IMAGELINK_IMAGE_HASH` varchar(20) NOT NULL,
  PRIMARY KEY (`IMAGELINK_RESOURCE_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20226 DEFAULT CHARSET=latin1;

CREATE TABLE `IMAGEURLHASH` (
  `IMAGEURLHASH_URL_HASH` varchar(20) NOT NULL,
  `IMAGEURLHASH_IMAGE_HASH` varchar(20) NOT NULL,
  PRIMARY KEY (`IMAGEURLHASH_URL_HASH`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `PAGE` (
  `PAGE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `PAGE_BODY` mediumblob NOT NULL,
  PRIMARY KEY (`PAGE_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=3017 DEFAULT CHARSET=latin1;

CREATE TABLE `PAGEINDEX` (
  `PAGEINDEX_PAGE_HASH` varchar(20) NOT NULL,
  `PAGEINDEX_PAGE_ID` bigint(20) NOT NULL,
  PRIMARY KEY (`PAGEINDEX_PAGE_HASH`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `PAGELINK` (
  `PAGELINK_RESOURCE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `PAGELINK_PAGE_HASH` varchar(20) NOT NULL,
  PRIMARY KEY (`PAGELINK_RESOURCE_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20225 DEFAULT CHARSET=latin1;

CREATE TABLE `RESOURCE` (
  `RESOURCE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `RESOURCE_VERSION_ID` bigint(20) NOT NULL,
  `RESOURCE_TYPE` varchar(4) DEFAULT NULL,
  `RESOURCE_PARENT_PAGE_ID` bigint(20) NOT NULL,
  PRIMARY KEY (`RESOURCE_ID`,`RESOURCE_VERSION_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20229 DEFAULT CHARSET=latin1;

CREATE TABLE `SITE` (
  `SITE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `SITE_HOST_NAME` varchar(64) NOT NULL,
  `SITE_LANGUAGE` varchar(8) DEFAULT NULL,
  `SITE_LOCATION` varchar(8) DEFAULT NULL,
  `SITE_DEPTH` smallint(6) DEFAULT NULL,
  `SITE_CREATE_DATE_TIME` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `SITE_LAST_UPDATE_DATE_TIME` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  `SITE_TOTAL_CAPTURE_TIMES` smallint(6) DEFAULT '0',
  `SITE_CATEGORY` varchar(8) NOT NULL,
  PRIMARY KEY (`SITE_ID`,`SITE_HOST_NAME`) USING BTREE,
  UNIQUE KEY `SITE_HOST_NAME` (`SITE_HOST_NAME`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;

CREATE TABLE `TEXT` (
  `TEXT_RESOURCE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `TEXT_TEXT` mediumblob,
  PRIMARY KEY (`TEXT_RESOURCE_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20228 DEFAULT CHARSET=latin1;

CREATE TABLE `TXT` (
  `TXT_RESOURCE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `TXT_TXT` mediumblob,
  PRIMARY KEY (`TXT_RESOURCE_ID`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20227 DEFAULT CHARSET=latin1;

CREATE TABLE `VERSION` (
  `VERSION_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `VERSION_SITE_ID` bigint(20) NOT NULL,
  `VERSION_DATE_TIME` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`VERSION_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=latin1;

读取顺序：
1.读取所有resource getAllResourcesFromVersion
2.读取主页 getPageBodyFromVersion()
3. 读取所有link getAllLinksFromVersion()
4.读取所有图像link  getAllImageLinksFromVersion()
5.读取所有css link getAllCssLinksFromVersion()

 显示page:
1.update_image_links_by_resourceid
2.loadImageToDisk
3.update_css_links_by_resourceid
4.loadCssToDisk
5.update_page_links_by_resourceid



保存顺序：
1. 获取主页 file_get_contents_curl
2. 分析link, parse_links_from_html
3. 分析 robot.txt
4. 基于robot.txt, 分析allow link. parse_allow_link_from_alllink
5. 基于robot.txt, 分析disallow link. parse_disallow_link_from_alllink
6. 分析图像link
7. 分析 title 文本 parse_txtTitle_from_html
8. 分析普通文本 parse_txtBody_from_html
9. 读取图像url hash 表 LoadImageURLHash
10. 读取图像hash 表 LoadImageBodyHash
11. 读取主页 url hash表LoadPageURLHash
保存
1.保存version
2.保存主页
3.保存图像
4.保存link
5.保存css
6.保存title文本
7.保存普通文本
